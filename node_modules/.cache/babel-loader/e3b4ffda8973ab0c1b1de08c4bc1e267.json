{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withRouter}from\"react-router-dom\";import Container from'react-bootstrap/Container';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Jumbotron from'react-bootstrap/Jumbotron';import Col from'react-bootstrap/Col';export var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.state={email:null,pwd:\"\"};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleRoute=_this.handleRoute.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"componentWillMount\",value:function componentWillMount(){this.props.handleLogout();}},{key:\"handleClick\",value:function handleClick(){var pwd=encodeURIComponent(this.state.pwd);var me=this;var url=\"http://af67a05128f7f4baaa6f3404f3b9800a-1168059415.us-east-1.elb.amazonaws.com:8080/login?email=\"+this.state.email+\"&psw=\"+pwd;fetch(url,{method:\"GET\"}).then(function(response){return response.json();}).then(function(data){return data.email;}).then(function(emails){if(emails!=null){me.props.handleLogin(emails);me.props.history.push({pathname:'/home',state:{email:emails}});}else{alert(\"wrong pwd\");}}).catch(function(error){return console.log(error);});}},{key:\"handleRoute\",value:function handleRoute(){this.props.history.push(\"/register\");}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Container,{fluid:\"lg\"},/*#__PURE__*/React.createElement(Jumbotron,{fluid:true,style:{backgroundImage:'url(\"https://cdn.vox-cdn.com/thumbor/BSHSENmkOeTcuCzWso2TMXwp7ok=/0x0:2040x1360/1200x800/filters:focal(857x517:1183x843)/cdn.vox-cdn.com/uploads/chorus_image/image/66560568/acastro_181016_1777_music_0001.0.jpg\")'}},/*#__PURE__*/React.createElement(\"h1\",{style:{color:'white'}},\"Music Recommender\")),/*#__PURE__*/React.createElement(Container,{fluid:\"lg\"},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",onChange:function onChange(e){return _this2.setState({email:e.target.value});}}),/*#__PURE__*/React.createElement(Form.Text,{className:\"text-muted\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return _this2.setState({pwd:e.target.value});}})),/*#__PURE__*/React.createElement(Button,{variant:\"dark\",onClick:this.handleClick},\"Sign in\"),/*#__PURE__*/React.createElement(Button,{variant:\"info\",onClick:this.handleRoute,style:{margin:'10px'}},\"Sign Up\")))));}}]);return Login;}(Component);export default withRouter(Login);","map":{"version":3,"sources":["C:/Users/huang/Desktop/reactFrontend/src/components/Login.js"],"names":["React","Component","withRouter","Container","Form","Button","Jumbotron","Col","Login","state","email","pwd","handleClick","bind","handleRoute","props","handleLogout","encodeURIComponent","me","url","fetch","method","then","response","json","data","emails","handleLogin","history","push","pathname","alert","catch","error","console","log","backgroundImage","color","e","setState","target","value","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Container from 'react-bootstrap/Container';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Jumbotron from 'react-bootstrap/Jumbotron';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nexport class Login extends Component {\r\n    constructor(){\r\n      super();\r\n      this.state = {\r\n        email:null,\r\n        pwd:\"\",\r\n      };\r\n      this.handleClick = this.handleClick.bind(this);\r\n      this.handleRoute = this.handleRoute.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n      this.props.handleLogout();\r\n    }\r\n\r\n    handleClick(){\r\n      const pwd = encodeURIComponent(this.state.pwd);\r\n      var me=this;\r\n      const url=\"http://af67a05128f7f4baaa6f3404f3b9800a-1168059415.us-east-1.elb.amazonaws.com:8080/login?email=\"+this.state.email+\"&psw=\"+pwd;\r\n      fetch(url,{\r\n      method: \"GET\"})\r\n      .then(response => response.json())\r\n      .then(function(data){\r\n        return data.email;\r\n      })\r\n      .then(function(emails){\r\n        if(emails != null){\r\n          me.props.handleLogin(emails);\r\n          me.props.history.push({\r\n            pathname: '/home',\r\n            state: { email:emails }\r\n        });\r\n        }else{\r\n          alert(\"wrong pwd\");\r\n        }\r\n      })\r\n      .catch(error=>console.log(error));\r\n    }\r\n    handleRoute(){\r\n      this.props.history.push(\"/register\");\r\n    }\r\n\r\n    render() {\r\n    return(\r\n      <Container fluid=\"lg\">\r\n        <Jumbotron fluid style={{backgroundImage: 'url(\"https://cdn.vox-cdn.com/thumbor/BSHSENmkOeTcuCzWso2TMXwp7ok=/0x0:2040x1360/1200x800/filters:focal(857x517:1183x843)/cdn.vox-cdn.com/uploads/chorus_image/image/66560568/acastro_181016_1777_music_0001.0.jpg\")'}}>\r\n        <h1 style={{ color: 'white' }}>Music Recommender</h1>\r\n        </Jumbotron>\r\n        <Container fluid=\"lg\">\r\n        <Col md={4}>\r\n        <Form>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control type=\"email\" placeholder=\"Enter email\" onChange={e => this.setState({email:e.target.value})}/>\r\n            <Form.Text className=\"text-muted\">\r\n              We'll never share your email with anyone else.\r\n            </Form.Text>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type=\"password\" placeholder=\"Password\" onChange={e => this.setState({pwd:e.target.value}) }/>\r\n          </Form.Group>\r\n          <Button variant=\"dark\" onClick={this.handleClick}>Sign in</Button>\r\n          <Button variant=\"info\" onClick={this.handleRoute} style={{margin:'10px'}}>Sign Up</Button>\r\n        </Form>\r\n        </Col>\r\n      </Container>\r\n      </Container>\r\n    );\r\n    }\r\n  }\r\n\r\n  export default withRouter(Login);"]},"metadata":{},"sourceType":"module"}