{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\huang\\\\Desktop\\\\reactFrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withRouter}from\"react-router-dom\";import Form from\"react-bootstrap/Form\";import Button from\"react-bootstrap/Button\";import Col from\"react-bootstrap/Col\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Navigate from\"./Navigate\";export var Playlist=/*#__PURE__*/function(_Component){_inherits(Playlist,_Component);var _super=_createSuper(Playlist);function Playlist(props){var _this;_classCallCheck(this,Playlist);_this=_super.call(this,props);_this.state={email:null,mood:null,playlist:[]};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Playlist,[{key:\"handleClick\",value:function handleClick(){var _this2=this;var url='http://a25c5b9c5e07e482bb242ba13c3af0b5-12839088.us-east-1.elb.amazonaws.com:8080/getPlaylist?key='+this.state.mood;fetch(url,{method:'GET'}).then(function(response){if(response.ok){response.json().then(function(data){_this2.setState({playlist:data.map(function(item){return{title:item.playlist_name,url:item.playlist_url};})});});}});}},{key:\"componentWillMount\",value:function componentWillMount(){if(localStorage.getItem(\"email\")){this.setState({email:localStorage.getItem(\"email\")},console.log(\"p:Get email from app component \"+localStorage.getItem(\"email\")));}else{this.props.history.push('/unauthorized');}}},{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"playlist email \"+this.state.email);}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Navigate,null),/*#__PURE__*/React.createElement(Container,{fluid:\"lg\"},/*#__PURE__*/React.createElement(Container,{fluid:\"lg\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:5},/*#__PURE__*/React.createElement(Form,{validated:true},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"exampleForm.ControlTextarea1\"},/*#__PURE__*/React.createElement(Form.Label,null,\"What's your mood today?\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",required:true,rows:\"1\",onChange:function onChange(e){return _this3.setState({mood:e.target.value});}})),/*#__PURE__*/React.createElement(Button,{variant:\"success\",onClick:this.handleClick},\"Let's find you your playlist..\")))),/*#__PURE__*/React.createElement(\"br\",null),this.state.playlist.map(function(listValue,index){return/*#__PURE__*/React.createElement(Row,{key:index},/*#__PURE__*/React.createElement(Col,{key:index,md:5},\"Num \",index+1,\" suggested \",listValue.title,\" playlist: \"),/*#__PURE__*/React.createElement(Col,{key:listValue.url,md:5},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:listValue.url,target:\"_blank\"},listValue.url))));}))));}}]);return Playlist;}(Component);export default withRouter(Playlist);","map":{"version":3,"sources":["C:/Users/huang/Desktop/reactFrontend/src/components/Playlist.js"],"names":["React","Component","withRouter","Form","Button","Col","Container","Row","Navigate","Playlist","props","state","email","mood","playlist","handleClick","bind","url","fetch","method","then","response","ok","json","data","setState","map","item","title","playlist_name","playlist_url","localStorage","getItem","console","log","history","push","e","target","value","listValue","index"],"mappings":"ozBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAGA,UAAaC,CAAAA,QAAb,oGAEE,kBAAYC,KAAZ,CAAkB,0CAChB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAW,CACTC,KAAK,CAAC,IADG,CAETC,IAAI,CAAE,IAFG,CAGTC,QAAQ,CAAE,EAHD,CAAX,CAKA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CAPgB,aAQjB,CAVH,sEAYe,iBAEX,GAAMC,CAAAA,GAAG,CAAG,qGAAqG,KAAKN,KAAL,CAAWE,IAA5H,CACAK,KAAK,CAACD,GAAD,CAAM,CACHE,MAAM,CAAE,KADL,CAAN,CAAL,CAGKC,IAHL,CAIM,SAACC,QAAD,CAAY,CAAC,GAAGA,QAAQ,CAACC,EAAZ,CAAe,CAC1BD,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,SAAAI,IAAI,CAAE,CACzB,MAAI,CAACC,QAAL,CAAc,CACZX,QAAQ,CAAEU,IAAI,CAACE,GAAL,CAAS,SAAAC,IAAI,QAAK,CACxBC,KAAK,CAAED,IAAI,CAACE,aADY,CAExBZ,GAAG,CAAEU,IAAI,CAACG,YAFc,CAAL,EAAb,CADE,CAAd,EAMD,CAPD,EAQD,CAAC,CAbR,EAiBD,CAhCH,+DAkCuB,CACnB,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAH,CAAiC,CAC/B,KAAKP,QAAL,CAAc,CAACb,KAAK,CAACmB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAP,CAAd,CAAoDC,OAAO,CAACC,GAAR,CAAY,kCAAkCH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA9C,CAApD,EAAmI,CADrI,IAEI,CACF,KAAKtB,KAAL,CAAWyB,OAAX,CAAmBC,IAAnB,CAAwB,eAAxB,EACD,CACF,CAxCH,6DA0CqB,CACjBH,OAAO,CAACC,GAAR,CAAY,kBAAmB,KAAKvB,KAAL,CAAWC,KAA1C,EACD,CA5CH,uCA8CW,iBACP,mBACI,oBAAC,SAAD,EAAW,KAAK,KAAhB,eACA,oBAAC,QAAD,MADA,cAEA,oBAAC,SAAD,EAAW,KAAK,CAAC,IAAjB,eACE,oBAAC,SAAD,EAAW,KAAK,CAAC,IAAjB,eACA,oBAAC,GAAD,mBACA,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACE,oBAAC,IAAD,EAAM,SAAS,KAAf,eACE,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,8BAAtB,eACE,oBAAC,IAAD,CAAM,KAAN,gCADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,UAAjB,CAA4B,QAAQ,KAApC,CAAqC,IAAI,CAAC,GAA1C,CAA8C,QAAQ,CAAE,kBAAAyB,CAAC,QAAE,CAAA,MAAI,CAACZ,QAAL,CAAc,CAACZ,IAAI,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAf,CAAd,CAAF,EAAzD,EAFF,CADF,cAKE,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAE,KAAKxB,WAAxC,mCALF,CADF,CADA,CADA,cAWM,8BAXN,CAYC,KAAKJ,KAAL,CAAWG,QAAX,CAAoBY,GAApB,CAAwB,SAAEc,SAAF,CAAaC,KAAb,CAAwB,CACjD,mBACE,oBAAC,GAAD,EAAK,GAAG,CAAEA,KAAV,eACE,oBAAC,GAAD,EAAK,GAAG,CAAEA,KAAV,CAAiB,EAAE,CAAE,CAArB,SAA6BA,KAAK,CAAC,CAAnC,eAAiDD,SAAS,CAACZ,KAA3D,eADF,cAEE,oBAAC,GAAD,EAAK,GAAG,CAAEY,SAAS,CAACvB,GAApB,CAAyB,EAAE,CAAE,CAA7B,eACA,2CAAI,yBAAG,IAAI,CAAEuB,SAAS,CAACvB,GAAnB,CAAwB,MAAM,CAAC,QAA/B,EAAyCuB,SAAS,CAACvB,GAAnD,CAAJ,CADA,CAFF,CADF,CAQD,CATE,CAZD,CADF,CAFA,CADJ,CA8BD,CA7EH,sBAA8BhB,SAA9B,EA+EE,cAAeC,CAAAA,UAAU,CAACO,QAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Navigate from \"./Navigate\";\r\n\r\n\r\nexport class Playlist extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      email:null,\r\n      mood: null,\r\n      playlist: []\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(){\r\n  \r\n    const url = 'http://a25c5b9c5e07e482bb242ba13c3af0b5-12839088.us-east-1.elb.amazonaws.com:8080/getPlaylist?key='+this.state.mood;\r\n    fetch(url, { \r\n            method: 'GET' \r\n        }) \r\n        .then(\r\n          (response)=>{if(response.ok){\r\n            response.json().then(data=>{\r\n              this.setState({\r\n                playlist: data.map(item => ({\r\n                    title: item.playlist_name,\r\n                    url: item.playlist_url\r\n                })\r\n                )})\r\n            })\r\n          }}\r\n        );\r\n\r\n        \r\n  }\r\n\r\n  componentWillMount() {\r\n    if(localStorage.getItem(\"email\")){\r\n      this.setState({email:localStorage.getItem(\"email\")},console.log(\"p:Get email from app component \"+localStorage.getItem(\"email\")));}\r\n    else{\r\n      this.props.history.push('/unauthorized');\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log(\"playlist email \"+ this.state.email);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Container fluid>\r\n        <Navigate/>\r\n        <Container fluid=\"lg\">\r\n          <Container fluid=\"lg\">\r\n          <Row>\r\n          <Col md={5}>\r\n            <Form validated >\r\n              <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                <Form.Label>What's your mood today?</Form.Label>\r\n                <Form.Control as=\"textarea\" required rows=\"1\" onChange={e=>this.setState({mood:e.target.value})}/>\r\n              </Form.Group>\r\n              <Button variant=\"success\" onClick={this.handleClick}>Let's find you your playlist..</Button>\r\n            </Form>\r\n          </Col>\r\n          </Row><br/>\r\n          {this.state.playlist.map(( listValue, index ) => {\r\n          return (\r\n            <Row key={index}>\r\n              <Col key={index} md={5}>Num {index+1} suggested {listValue.title} playlist: </Col>\r\n              <Col key={listValue.url} md={5}>\r\n              <li><a href={listValue.url} target=\"_blank\">{listValue.url}</a></li>\r\n              </Col>\r\n            </Row>\r\n          );\r\n        })}\r\n          </Container>\r\n        </Container>\r\n        </Container>\r\n      );\r\n  } \r\n}\r\n  export default withRouter(Playlist);"]},"metadata":{},"sourceType":"module"}